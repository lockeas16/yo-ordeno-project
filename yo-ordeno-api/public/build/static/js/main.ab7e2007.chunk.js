(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,a,t){e.exports=t.p+"static/media/default-profile-480x480.ef4b28a3.png"},19:function(e,a,t){e.exports=t.p+"static/media/defaultMeal.3527ecdb.png"},20:function(e,a,t){e.exports=t.p+"static/media/logo_transparent-crop.f9e40214.png"},42:function(e,a,t){e.exports=t.p+"static/media/CheckMark.2d1e3fcb.png"},43:function(e,a,t){e.exports=t.p+"static/media/exclamation.ca238cf5.png"},50:function(e,a,t){e.exports=t(91)},55:function(e,a,t){},90:function(e,a,t){},91:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(40),c=t.n(l),s=t(3),o=t(4),i=t(6),u=t(5),m=t(7),d=t(13),p=(t(55),function(e){function a(){return Object(s.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{"uk-height-viewport":"offset-top: true; expand: true"},r.a.createElement("section",{className:"uk-section uk-section-xlarge uk-overflow-hidden hero"},r.a.createElement("div",{className:"uk-container"},r.a.createElement("div",{className:"uk-panel uk-light "},r.a.createElement("h2",{className:"uk-heading-medium"},"Toma el control de lo que ordena tu cliente"),r.a.createElement("ul",{"uk-parallax":"opacity: 0,1; y: 100,0; scale: 0.5,1; viewport: 0.6;",className:"uk-list uk-text-bold uk-text-warning uk-text-right"},r.a.createElement("li",null,"Que los meseros dejen de preocuparse por recordar cada orden"),r.a.createElement("li",null,"Ayuda a tus clientes a preocuparse por comer y no por esperar a que hora llegar\xe1 su orden"))))),r.a.createElement("section",{className:"uk-section uk-section-large uk-overflow-hidden bg-image2"},r.a.createElement("div",{className:"uk-container"},r.a.createElement("h2",{className:"uk-heading-medium"},"Mejora la experiencia de tus clientes"))))}}]),a}(n.Component)),h=t(15),k=t(14),f=t(41),g=t.n(f),E=t(8),v=t.n(E),b=function(e){var a=new g.a;return a.is().min(8).is().max(16).has().uppercase().has().lowercase().has().digits().has().symbols().has().not().spaces(),a.validate(e)},N=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"danger";v.a.notification({message:"<div class='uk-text-center'><span>".concat(e,"</span></div>"),status:a,pos:"top-center",timeout:2e3})},w=function(e){return/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(e)},y=function(e){var a=e.handleChange,t=e.name,n=e.id,l=e.type,c=e.placeholder,s=e.value,o=e.label,i=e.required,u=e.step,m=e.min,d=e.classStyle;return r.a.createElement("div",{className:"uk-margin inp-div"},r.a.createElement("input",{onChange:a,className:"uk-width-1-1 inp-form ".concat(d),type:l,placeholder:"false"===c?void 0:c,name:t,id:n,value:s,required:i,step:u||"false",min:m||"false"}),r.a.createElement("label",{className:"inp-label",htmlFor:t},o),r.a.createElement("div",{className:"underline"}))},x=function(e){var a=e.name,t=e.lastname,l=e.email,c=e.password,s=e.passwordConfirm,o=e.handleChange,i=e.passwordsAreMatch,u=e.handleSubmit,m=Object(n.useState)(!0),d=Object(k.a)(m,2),p=d[0],h=d[1],f=Object(n.useState)(!0),g=Object(k.a)(f,2),E=g[0],v=g[1];return r.a.createElement("div",{"uk-height-viewport":"offset-top: true; expand: true"},r.a.createElement("section",{className:"uk-section","uk-height-viewport":"expand: true"},r.a.createElement("div",{className:"uk-container uk-container-xsmall uk-flex uk-flex-center"},r.a.createElement("form",{className:"uk-form-stacked uk-width-1-2",onSubmit:u},r.a.createElement("fieldset",{className:"uk-fieldset"},r.a.createElement("legend",{className:"uk-margin uk-legend uk-text-center"},"Crear una cuenta como due\xf1o"),r.a.createElement("div",{className:"uk-grid-small","uk-grid":"true"},r.a.createElement("div",null,r.a.createElement(y,{handleChange:o,type:"text",name:"name",id:"name",placeholder:"Me llamo...",value:a,label:"Nombre(s)",required:!0})),r.a.createElement("div",null,r.a.createElement(y,{handleChange:o,type:"text",name:"lastname",id:"lastname",placeholder:"Mi apellido paterno es...",value:t,label:"Apellido Paterno",required:!0}))),r.a.createElement(y,{handleChange:o,type:"email",name:"email",id:"email",placeholder:"micorreo@dominio.com",value:l,label:"Correo electr\xf3nico",required:!0}),r.a.createElement("div",{className:"uk-margin inp-div"},r.a.createElement("input",{onChange:o,onBlur:function(e){h(b(e.target.value))},className:"uk-width-1-1 inp-form ".concat(p?"":"uk-form-danger"),type:"password",placeholder:"Password: e.g. p4$22%W0_rD",name:"password",id:"password",value:c,required:!0}),r.a.createElement("label",{className:"inp-label",htmlFor:"password"},"Password"),r.a.createElement("div",{className:"underline"})),r.a.createElement("div",{"uk-drop":"pos: right-center"},r.a.createElement("div",{className:"uk-card uk-card-small uk-card-body uk-card-default uk-text-center"},"Passwords deben tener al menos 8 caracteres, may\xfasculas, n\xfameros, s\xedmbolos y no tener espacios")),r.a.createElement("div",{className:"uk-margin inp-div"},r.a.createElement("input",{onChange:o,onBlur:function(e){v(i(e))},className:"uk-width-1-1 inp-form ".concat(E?"":"uk-form-danger"),type:"password",placeholder:"confirma tu password",name:"passwordConfirm",id:"passwordConfirm",value:s,required:!0}),r.a.createElement("label",{className:"inp-label",htmlFor:"passwordConfirm"},"Confirmaci\xf3n de password"),r.a.createElement("div",{className:"underline"})),!E&&r.a.createElement("div",{"uk-drop":"pos: right-center"},r.a.createElement("div",{className:"uk-card uk-card-primary uk-card-small uk-card-body uk-card-default uk-text-center"},"Los passwords no coinciden!")),r.a.createElement("div",{className:"uk-margin uk-flex uk-flex-center"},r.a.createElement("button",{className:"uk-button uk-button-primary uk-width-1-2"},"Registrarme")))))))},S=t(2),C=t.n(S),O=function(e){return C.a.post("".concat("https://yo-ordeno.herokuapp.com/api","/auth/signup"),e).then(function(e){return e.data}).catch(function(e){throw e.response.data})},j=function(e){return C.a.patch("".concat("https://yo-ordeno.herokuapp.com/api","/auth/confirm/").concat(e)).then(function(e){return e.data}).catch(function(e){throw e.response.data})},D=function(e){return C.a.patch("".concat("https://yo-ordeno.herokuapp.com/api","/auth/edit"),e,{headers:{Authorization:localStorage.getItem("TOKEN"),"Content-Type":"multipart/form-data"}}).then(function(e){return e.data}).catch(function(e){throw e.response.data})},I=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={auth:{name:"",lastname:"",email:"",password:"",passwordConfirm:""}},t.passwordsAreMatch=function(e){var a=t.state.auth.password;return e.target.value===a},t.handleChange=function(e){var a=e.target.name,n=t.state.auth;n[a]=e.target.value,t.setState({auth:n})},t.handleSubmit=function(e){e.preventDefault();var a=t.state.auth;return""!==a.email&&w(a.email)?""!==a.password&&b(a.password)?void t.onSignup():N("Proporciona un password v\xe1lido"):N("Proporciona un correo electr\xf3nico v\xe1lido")},t.onSignup=function(){var e=t.state.auth,a=e,n=(a.passwordConfirm,Object(h.a)(a,["passwordConfirm"]));O(n).then(function(a){var n=a.message;return e={name:"",lastname:"",email:"",password:"",passwordConfirm:""},t.setState({auth:e}),N(n)}).catch(function(e){var a=e.error;return console.log(a),N(a.message)})},t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.state.auth;return r.a.createElement(x,Object.assign({handleChange:this.handleChange,passwordsAreMatch:this.passwordsAreMatch,handleSubmit:this.handleSubmit},e))}}]),a}(n.Component),T=t(42),A=t.n(T),P=function(){return r.a.createElement("section",{className:"uk-section uk-section-large uk-section-muted","uk-height-viewport":"offset-top: true; expand: true"},r.a.createElement("div",{className:"uk-container uk-container-small"},r.a.createElement("h2",{className:"lobster-family uk-heading-medium uk-text-center"},"Tu cuenta ha sido verificada de manera exitosa"),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("img",{className:"uk-display-block uk-margin-auto uk-width-1-4",src:A.a,alt:"checkmark","uk-img":"true"})),r.a.createElement("p",{className:"lobster-family uk-text-lead uk-text-center"},"Gracias por confiar en Yo Ordeno!! \xbfQue esperas para iniciar sesion?")))},q=t(43),U=t.n(q),F=function(){return r.a.createElement("section",{className:"uk-section uk-section-large uk-section-muted","uk-height-viewport":"offset-top: true; expand: true"},r.a.createElement("div",{className:"uk-container uk-container-small"},r.a.createElement("h2",{className:"lobster-family uk-heading-medium uk-text-center uk-text-danger"},"Ha ocurrido un error durante la verificaci\xf3n"),r.a.createElement("div",{className:"uk-margin"},r.a.createElement("img",{className:"uk-display-block uk-margin-auto uk-width-1-4",src:U.a,alt:"exclamation","uk-img":"true"})),r.a.createElement("p",{className:"lobster-family uk-text-lead uk-text-center uk-text-secondary"},"Sentimos a\xfan no poder contar contigo, valida la liga de confirmaci\xf3n que te ha llegado por correo")))},M=function(){return r.a.createElement("section",{className:"uk-section uk-section-large uk-section-muted bg-waiting","uk-height-viewport":"offset-top: true; expand: true"})},L=function(e){function a(e){var t;Object(s.a)(this,a),t=Object(i.a)(this,Object(u.a)(a).call(this,e));var n=e.match.params.token;return t.state={confirmation:"Pending"},j(n).then(function(e){t.setState({confirmation:"Success"})}).catch(function(e){t.setState({confirmation:"Fail"})}),t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.state.confirmation;return r.a.createElement(r.a.Fragment,null,"Pending"===e&&r.a.createElement(M,null),"Fail"===e&&r.a.createElement(F,null),"Success"===e&&r.a.createElement(P,null))}}]),a}(n.Component),z=t(18),_=t.n(z),R=function(e){var a=e.image,t=e.defaultImage,n=e.setImage,l=e.classSize;return r.a.createElement("div",{className:"uk-card"},r.a.createElement("div",{className:"uk-card-media-top uk-text-center"},r.a.createElement("img",{className:"uk-border-circle ".concat(l),src:a||t,alt:"profileImage"})),r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("div",{className:"uk-margin"},r.a.createElement("div",{"uk-form-custom":"true",className:"uk-width-1-1"},r.a.createElement("input",{type:"file",name:"image",onChange:n}),r.a.createElement("button",{className:"uk-button uk-text-bold uk-width-1-2 uk-align-center",type:"button",tabIndex:"-1"},"Subir imagen")))))},K=function(e){var a=e.image,t=e.name,n=e.lastname,l=e.setImage,c=e.handleChange,s=e.handleSubmit;return r.a.createElement("div",{className:"uk-container uk-width-1-3"},r.a.createElement("h2",null,"Mis datos personales"),r.a.createElement(R,{image:a,defaultImage:_.a,setImage:l,classSize:"imageProfile"}),r.a.createElement("form",{onSubmit:s},r.a.createElement("fieldset",{className:"uk-fieldset"},r.a.createElement(y,{handleChange:c,type:"text",name:"name",id:"nameProfile",placeholder:"false",value:t,label:"Nombre(s)",required:!0}),r.a.createElement(y,{handleChange:c,type:"text",name:"lastname",id:"lastnameProfile",placeholder:"false",value:n,label:"Apellido paterno",required:!0}),r.a.createElement("div",{className:"uk-margin uk-flex uk-flex-center"},r.a.createElement("button",{className:"uk-button uk-button-primary uk-width-1-2"},"Actualizar perfil")))))},B=function(e){function a(e){var t;Object(s.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).handleChange=function(e){var a=e.target.name,n=t.state.profile;n[a]=e.target.value,t.setState({profile:n})},t.handleSubmit=function(e){e.preventDefault();var a=t.state.formData,n=t.state.profile;for(var r in a||(a=new FormData),n)if(n.hasOwnProperty(r)){var l=n[r];a.append(r,l)}D(a).then(function(e){var a=t.props.user;a.image=e.user.image,localStorage.setItem("USER",JSON.stringify(a)),t.props.setUser(a)}).catch(function(e){console.log(e)})},t.setImage=function(e){var a=e.target.files[0];if(a){var n=new FormData;n.append("image",a);var r=new FileReader;r.readAsDataURL(e.target.files[0]),r.onloadend=function(){var e=t.state.profile;e.image=r.result,t.setState({profile:e}),t.setState({formData:n})}}};var n=t.props.user;return n._id||t.props.history.push("/"),t.state={profile:{name:n.name,lastname:n.lastname,image:n.image}},t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.state.profile;return r.a.createElement("section",{className:"uk-section uk-section-small ","uk-height-viewport":"offset-top: true; expand: true"},r.a.createElement(K,Object.assign({},e,{setImage:this.setImage,handleChange:this.handleChange,handleSubmit:this.handleSubmit})))}}]),a}(n.Component),J=t(1),W=t(19),$=t.n(W),Q=t(12),G=function(e){var a=e.handleDelete,t=e._id,n=e.idNode,l=e.name,c=e.legend;return r.a.createElement("div",{id:"delete-".concat(l,"-").concat(n),className:"uk-flex-top","uk-modal":"true"},r.a.createElement("div",{className:"uk-modal-dialog uk-modal-body uk-margin-auto-vertical uk-width-large"},r.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true"}),r.a.createElement("h3",{className:"lobster-family uk-text-center"},c),r.a.createElement("div",{className:"uk-text-center"},r.a.createElement("button",{className:"uk-button uk-button-danger uk-margin-small-right uk-modal-close",onClick:function(e){a(e,t,n)}},"Eliminar"),r.a.createElement("button",{className:"uk-button uk-button-default uk-modal-close"},"Cancelar"))))},H=function(e){var a=e.image,t=e.name,n=e.category,l=e.price,c=e.description,s=e._id,o=e.idNode,i=e.handleDelete;return r.a.createElement("div",null,r.a.createElement("div",{className:"uk-card uk-card-default uk-card-small uk-box-shadow-large"},r.a.createElement("div",{className:"uk-card-badge","uk-toggle":"target: #delete-dish-".concat(o)},r.a.createElement("div",{className:"hoverTrash"},r.a.createElement(Q.d,null))),r.a.createElement("div",{className:"uk-card-media-top uk-text-center"},r.a.createElement("img",{src:a||$.a,alt:t,className:"imageCard uk-border-circle"})),r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("h3",{className:"uk-card-title"},t),r.a.createElement("p",{className:"uk-text-truncate"},c),r.a.createElement("span",{className:"uk-label-success"},n),r.a.createElement("p",{className:"uk-margin-remove"},"Precio: ",r.a.createElement("span",{className:"uk-badge"},l))),r.a.createElement("div",{className:"uk-card-footer"},r.a.createElement(J.b,{to:{pathname:"/dashboard/dish/".concat(s),state:{dish:{image:a,name:t,category:n,description:c,price:l,_id:s}}}},"Editar"))),r.a.createElement(G,{handleDelete:i,_id:s,idNode:o,name:"dish",legend:"\xbfSeguro de que quieres eliminar este platillo?"}))},Y=function(e){var a=e.dishes,t=e.handleDelete;return r.a.createElement("section",{className:"uk-section uk-section-large uk-width-expand","uk-height-viewport":"offset-top: true; expand: true"},r.a.createElement("div",{className:"uk-container uk-container-expand"},r.a.createElement("h2",null,"Platillos"),r.a.createElement("div",{className:"uk-child-width-1-2@s uk-child-width-1-3@m uk-child-width-1-5@l uk-grid-small uk-grid-match","uk-grid":"true"},a&&a.map(function(e,a){return r.a.createElement(H,Object.assign({key:a},e,{handleDelete:t,idNode:a}))}))))},V=["Desayunos","Entradas","Sopas","Ensaladas","Bebidas","Platillo principal"],X=function(e){var a=e.handleSubmit,t=e.handleChange,n=e.setImage,l=e.dish,c=(e.props,l.name),s=l.description,o=l.category,i=l.image,u=l.price,m=l._id;return r.a.createElement("section",{className:"uk-section uk-section-medium uk-width-expand","uk-height-viewport":"offset-top: true; expand: true"},r.a.createElement("div",{className:"uk-container uk-container-small"},m?r.a.createElement("h1",null,"Editar Platillo"):r.a.createElement("h1",null,"Nuevo Platillo"),r.a.createElement(R,{image:i,defaultImage:$.a,setImage:n,classSize:"imageProfile"}),r.a.createElement("form",{onSubmit:function(e){a(e,m)}},r.a.createElement("fieldset",{className:"uk-fieldset"},r.a.createElement("div",{className:"uk-grid-small uk-child-width-expand","uk-grid":"true"},r.a.createElement("div",null,r.a.createElement(y,{handleChange:t,type:"text",name:"name",id:"nameDish",placeholder:"Nombre del platillo",value:c,label:"Nombre del platillo",required:!0})),r.a.createElement("div",null,r.a.createElement(y,{handleChange:t,type:"number",name:"price",id:"priceDish",placeholder:"false",value:u,label:"Precio",step:"any",min:0,required:!0})),r.a.createElement("div",null,r.a.createElement("div",{className:"uk-margin inp-div"},r.a.createElement("select",{onChange:t,className:"uk-select",name:"category",value:o||"Escoge una categor\xeda",required:!0},r.a.createElement("option",{disabled:!0},"Escoge una categor\xeda"),V.map(function(e,a){return r.a.createElement("option",{key:a},e)}))))),r.a.createElement(y,{handleChange:t,type:"text",name:"description",id:"descriptionDish",placeholder:"Descripci\xf3n",value:s,label:"Descripci\xf3n"}),r.a.createElement("div",{className:"uk-margin uk-flex uk-flex-center"},r.a.createElement("button",{className:"uk-button uk-button-primary uk-width-1-2"},m?"Editar platillo":"Dar de alta platillo"))))))},Z=function(e){return C.a.get("".concat("https://yo-ordeno.herokuapp.com/api","/restaurant/").concat(e,"/tables"),{headers:{Authorization:localStorage.getItem("TOKEN"),"Content-Type":"application/json"}}).then(function(e){return e.data}).catch(function(e){throw e.response.data})},ee=function(e){return C.a.delete("".concat("https://yo-ordeno.herokuapp.com/api","/table/").concat(e),{headers:{Authorization:localStorage.getItem("TOKEN")}}).then(function(e){return e.data}).catch(function(e){throw e.response.data})},ae=function(e,a){(function(e){return C.a.post("".concat("https://yo-ordeno.herokuapp.com/api","/table"),e,{headers:{Authorization:localStorage.getItem("TOKEN")}}).then(function(e){return e.data}).catch(function(e){throw e.response.data})})(e).then(function(e){a(e.table),N(e.message,"success")}).catch(function(e){console.log(e)})},te=function(e){(function(e,a){return C.a.patch("".concat("https://yo-ordeno.herokuapp.com/api","/table/").concat(a),e,{headers:{Authorization:localStorage.getItem("TOKEN")}}).then(function(e){return e.data}).catch(function(e){throw e.response.data})})(e,e._id).then(function(e){N(e.message,"success")}).catch(function(e){console.log(e)})},ne=function(e){var a=e.user,t=e.addTable,l=Object(n.useState)(""),c=Object(k.a)(l,2),s=c[0],o=c[1];return r.a.createElement("form",{onSubmit:function(e){!function(e,a,t){if(e.preventDefault(),""===a.seatCapacity||0===a.seatCapacity)return N("La cantidad de personas es inv\xe1lida");a.id?te(a):ae(a,t)}(e,{seatCapacity:s,restaurant:a.restaurant},t),o("")}},r.a.createElement("fieldset",{className:"uk-fieldset"},r.a.createElement("div",{className:"uk-grid-small uk-child-width-expand","uk-grid":"true"},r.a.createElement("div",null,r.a.createElement(y,{handleChange:function(e){o(e.target.value)},type:"number",name:"seatCapacity",id:"capacityTable",placeholder:"Cantidad de personas",value:s,label:"Capacidad de la mesa",min:1,required:!0})),r.a.createElement("div",null,r.a.createElement("button",{className:"uk-button uk-button-primary"},"Agregar mesa")))))},re=t(46),le=t.n(re),ce=function(e){var a=e.url;return r.a.createElement(le.a,{value:a,bgColor:"rgba(0,0,0,0)",size:128,level:"L",includeMargin:!0,renderAs:"svg"})},se=function(e){return"".concat(window.location.origin,"/table/").concat(e,"/")},oe=function(e){var a=e.seatCapacity,t=e._id,n=e.tableNumber,l=e.delTable;return r.a.createElement("tr",null,r.a.createElement("td",{className:"uk-width-small"},"# ",n+1),r.a.createElement("td",{className:"uk-width-small"},a),r.a.createElement("td",null,r.a.createElement(ce,{url:se(t)})," "),r.a.createElement("td",{className:"uk-table-shrink"},r.a.createElement("div",{className:"hoverTrash","uk-toggle":"target: #delete-table-".concat(n)},r.a.createElement(Q.d,null)),r.a.createElement(G,{handleDelete:l,_id:t,idNode:n,legend:"\xbfSeguro de que quieres eliminar esta mesa?",name:"table"})))},ie=function(e){var a=e.tables,t=e.delTable;return r.a.createElement("table",{className:"uk-table uk-table-striped uk-table-middle uk-text-center"},r.a.createElement("caption",null,"Mesas registradas"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"uk-text-center"},"# de Mesa"),r.a.createElement("th",{className:"uk-text-center"},"Capacidad de personas"),r.a.createElement("th",{className:"uk-text-center"},"C\xf3digo QR"),r.a.createElement("th",{className:"uk-text-center"},"Eliminar"))),r.a.createElement("tbody",null,a.map(function(e,a){return r.a.createElement(oe,Object.assign({key:a},e,{tableNumber:a,delTable:t}))})))},ue=function(e){var a=e.user,t=e.tables,n=e.addTable,l=e.delTable;return r.a.createElement("section",{className:"uk-section uk-section-medium uk-width-expand","uk-height-viewport":"offset-top: true; expand: true"},r.a.createElement("div",{className:"uk-container uk-container-small"},r.a.createElement("h2",null,"Mesas"),r.a.createElement(ne,{user:a,addTable:n}),r.a.createElement(ie,{tables:t,delTable:l})))},me=function(e){return C.a.delete("".concat("https://yo-ordeno.herokuapp.com/api","/dish/").concat(e),{headers:{Authorization:localStorage.getItem("TOKEN")}}).then(function(e){return e.data}).catch(function(e){throw e.response.data})},de=function(e){return C.a.post("".concat("https://yo-ordeno.herokuapp.com/api","/dish"),e,{headers:{Authorization:localStorage.getItem("TOKEN"),"Content-Type":"multipart/form-data"}}).then(function(e){return e.data}).catch(function(e){throw e.response.data})},pe=function(e,a){return C.a.patch("".concat("https://yo-ordeno.herokuapp.com/api","/dish/").concat(a),e,{headers:{Authorization:localStorage.getItem("TOKEN"),"Content-Type":"multipart/form-data"}}).then(function(e){return e.data}).catch(function(e){throw e.response.data})},he=function(e){return C.a.get("".concat("https://yo-ordeno.herokuapp.com/api","/dish/").concat(e),{headers:{Authorization:localStorage.getItem("TOKEN"),"Content-Type":"application/json"}}).then(function(e){return e.data}).catch(function(e){throw e.response.data})},ke=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).setDish=function(e){t.setState({dish:e})},t.addTable=function(e){var a=t.state.tables;a.push(e),t.setState({tables:a})},t.delTable=function(e,a,n){ee(a).then(function(e){var a=t.state.tables;a.splice(n,1),t.setState({tables:a}),N(e.message,"success")}).catch(function(e){console.log(e)})},t.setImage=function(e){var a=e.target.files[0];if(a){var n=new FormData;n.append("image",a);var r=new FileReader;r.readAsDataURL(e.target.files[0]),r.onloadend=function(){var e=t.state.dish;e.image=r.result,t.setState({dish:e}),t.setState({formData:n})}}},t.handleChange=function(e){var a=e.target.name,n=t.state.dish;n[a]=e.target.value,t.setState({dish:n})},t.handleSubmit=function(e,a){e.preventDefault();var n=t.state.dish,r=t.state.user.restaurant;if(n.restaurant=r,""===n.name)return N("Proporciona un nombre de platillo");if(0===n.price)return N("Proporciona un precio v\xe1lido y mayor a 0");if(""===n.category)return N("Proporciona una categor\xeda v\xe1lida");var l=t.state.formData;for(var c in l||(l=new FormData),n)if(n.hasOwnProperty(c)&&"image"!==c){var s=n[c];l.append(c,s)}n._id?t.edit(l,n._id):t.create(l)},t.handleDelete=function(e,a,n){me(a).then(function(e){var a=t.state.dishes;a.splice(n,1),t.setState({dishes:a}),N(e.message,"success")}).catch(function(e){console.log(e)})},t.create=function(e){de(e).then(function(e){var a=t.state.dishes;a.push(e.dish);var n=new FormData;t.setState({dish:{name:"",description:"",price:0,category:"",image:""}}),t.setState({formData:n}),t.setState({dishes:a}),N(e.message,"success")}).catch(function(e){console.log(e)})},t.edit=function(e,a){pe(e,a).then(function(e){var a=new FormData;t.setState({dish:{name:"",description:"",price:0,category:"",image:""}}),t.setState({formData:a}),N(e.message,"success")}).catch(function(e){console.log(e)})},t.state={user:t.props.user,dish:{name:"",description:"",price:0,category:"",image:""},dishes:[],tables:[]},he(t.props.user.restaurant).then(function(e){var a=e;t.setState({dishes:a})}).catch(function(e){console.log(e)}),Z(t.props.user.restaurant).then(function(e){var a=e;t.setState({tables:a})}).catch(function(e){console.log(e)}),t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"componentDidUpdate",value:function(){var e=this.state.dish;this.props.location.state&&(""!==e.name&&e.name===this.props.location.state.dish.name||this.setDish(this.props.location.state.dish))}},{key:"render",value:function(){var e=this,a=this.state,t=a.user,n=a.dish,l=a.dishes,c=a.tables;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{exact:!0,path:"".concat(this.props.match.path,"/dishes"),render:function(a){return r.a.createElement(Y,Object.assign({},a,{dishes:l,handleDelete:e.handleDelete}))}}),r.a.createElement(d.a,{exact:!0,path:"".concat(this.props.match.path,"/tables"),render:function(a){return r.a.createElement(ue,Object.assign({},a,{user:t,tables:c,addTable:e.addTable,delTable:e.delTable}))}}),r.a.createElement(d.a,{exact:!0,path:"".concat(this.props.match.path,"/newdish"),render:function(a){return r.a.createElement(X,{props:a,dish:n,setImage:e.setImage,handleChange:e.handleChange,handleSubmit:e.handleSubmit})}}),r.a.createElement(d.a,{exact:!0,path:"".concat(this.props.match.path,"/dish/:id"),render:function(a){return r.a.createElement(X,{props:a,dish:n,setImage:e.setImage,handleChange:e.handleChange,handleSubmit:e.handleSubmit})}}))}}]),a}(n.Component),fe=t(22),ge=t.n(fe),Ee=t(47),ve=function(e,a){return C.a.get("".concat("https://yo-ordeno.herokuapp.com/api","/restaurant/").concat(a,"/table/").concat(e),{headers:{"Content-Type":"application/json"}})},be=function(e){return C.a.get("".concat("https://yo-ordeno.herokuapp.com/api","/restaurant/").concat(e,"/dishes/"),{headers:{"Content-Type":"application/json"}})},Ne=t(48),we=t.n(Ne),ye=function(e){var a=e.handleChange,t=e.name,n=Object(h.a)(e,["handleChange","name"]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Bienvenido!!!"),r.a.createElement("h2",null,"\xbfA qui\xe9n vamos a tener el placer de servirle?"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t&&n.nextStep()}},r.a.createElement(y,{handleChange:a,type:"text",name:"name",id:"name",placeholder:"Mi nombre es...",value:t,label:"Nombre",classStyle:"uk-text-large",required:!0}),r.a.createElement("p",null,r.a.createElement("button",{className:"uk-button uk-button-primary"},"Continuar"))))},xe=function(e){var a=e.name,t=e.description,n=e.image,l=e.price,c={backgroundSize:"cover",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:"url('".concat(n,"')")};return r.a.createElement("li",null,r.a.createElement("a",{className:"uk-accordion-title"},r.a.createElement("div",{"uk-grid":"true"},r.a.createElement("div",{className:"uk-width-1-3",style:c}),r.a.createElement("div",{className:"uk-width-expand"},r.a.createElement("h3",null,a),r.a.createElement("p",null,t),r.a.createElement("p",null,"Precio: ",r.a.createElement("span",{className:"uk-badge"},l))))),r.a.createElement("div",{className:"uk-accordion-content"},r.a.createElement("p",null,r.a.createElement("button",{className:"uk-button uk-button-primary"},"Agregar"))))},Se=function(e){var a=e.dishes;Object(h.a)(e,["dishes"]);return console.log(a),r.a.createElement("div",null,r.a.createElement("h2",null,"Escoge lo que quieres ordenar"),r.a.createElement("ul",{"uk-accordion":"true"},a&&a.map(function(e,a){return r.a.createElement(xe,Object.assign({key:a},e))})))},Ce=function(e){function a(e){var t;Object(s.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).handleChange=function(e){var a=e.target.name,n=t.state.order;n[a]=e.target.value,t.setState({order:n})};var n=e.match.params.id,r=e.match.params.restaurant;function l(){return(l=Object(Ee.a)(ge.a.mark(function e(a,t){var n;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(a,t);case 2:return e.sent,e.next=5,be(t);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}return t.state={order:{table:n,restaurant:r,name:""},status:"WAITING"},function(e,a){return l.apply(this,arguments)}(n,r).then(function(e){var a=e.data;t.setState({dishes:a})}).catch(function(e){console.log(e)}),t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.state,a=e.order,t=e.dishes,n="";return a&&(n=a.name),r.a.createElement("section",{className:"uk-section uk-text-center uk-overflow-hidden","uk-height-viewport":"offset-top: true; expand: true"},r.a.createElement("div",{className:"uk-container uk-container-expand"},r.a.createElement(we.a,null,r.a.createElement(ye,{props:this.props,handleChange:this.handleChange,name:n}),r.a.createElement(Se,{props:this.props,dishes:t}))))}}]),a}(n.Component),Oe=function(e){var a=e.user,t=e.setUser;return r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(p,Object.assign({},e,{setUser:t}))}}),r.a.createElement(d.a,{exact:!0,path:"/signup",render:function(e){return r.a.createElement(I,e)}}),r.a.createElement(d.a,{exact:!0,path:"/confirm/:token",render:function(e){return r.a.createElement(L,e)}}),r.a.createElement(d.a,{exact:!0,path:"/profile",render:function(e){return r.a.createElement(B,Object.assign({},e,{user:a,setUser:t}))}}),r.a.createElement(d.a,{path:"/dashboard",render:function(e){return r.a.createElement(ke,Object.assign({},e,{user:a,setUser:t}))}}),r.a.createElement(d.a,{path:"/restaurant/:restaurant/table/:id",render:function(e){return r.a.createElement(Ce,e)}}))},je=t(20),De=t.n(je),Ie=function(e,a,t){var n=Object.assign({},a);n[e.target.name]=e.target.value,t(n)},Te=function(e,a,t,n){(function(e){return C.a.post("".concat("https://yo-ordeno.herokuapp.com/api","/auth/login"),e).then(function(e){return e.data}).catch(function(e){throw e.response.data})})(e).then(function(e){var r=e.user,l=e.token;localStorage.setItem("USER",JSON.stringify(r)),localStorage.setItem("TOKEN",l),a(r),v.a.modal("#modal-login").hide(),n({email:"",password:""}),t.push("/dashboard/dishes")}).catch(function(e){var a=e.error;return console.log(a),N(a.message)})},Ae=function(e){var a=e.setUser,t=e.history,l=Object(n.useState)({email:"",password:""}),c=Object(k.a)(l,2),s=c[0],o=c[1];return r.a.createElement("div",{id:"modal-login",className:"uk-flex-top","uk-modal":"true"},r.a.createElement("div",{className:"uk-modal-dialog uk-modal-body uk-margin-auto-vertical uk-width-large"},r.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true"}),r.a.createElement("form",{className:"uk-form-stacked uk-width-1-1",onSubmit:function(e){!function(e,a,t,n,r){e.preventDefault(),""!==a.email&&w(a.email)?""===a.password?N("Proporciona un password v\xe1lido"):Te(a,t,n,r):N("Proporciona un correo electr\xf3nico v\xe1lido")}(e,s,a,t,o)}},r.a.createElement("fieldset",{className:"uk-fieldset"},r.a.createElement("legend",{className:"uk-margin uk-legend uk-text-center"},"Bienvenido!"),r.a.createElement(y,{handleChange:function(e){Ie(e,s,o)},type:"email",name:"email",id:"emaiLogin",placeholder:"micorreo@dominio.com",value:s.email,label:"Correo electr\xf3nico",required:!0}),r.a.createElement("div",{className:"uk-margin inp-div"},r.a.createElement("input",{onChange:function(e){Ie(e,s,o)},className:"uk-width-1-1 inp-form",type:"password",placeholder:"e.g. p4$22%W0_rD",name:"password",id:"passwordLogin",value:s.password,autoComplete:"current-password",required:!0}),r.a.createElement("label",{className:"inp-label",htmlFor:"passwordLogin"},"Password"),r.a.createElement("div",{className:"underline"})),r.a.createElement("div",{className:"uk-margin uk-flex uk-flex-center"},r.a.createElement("button",{className:"uk-button uk-button-primary uk-width-1-2"},"Iniciar sesi\xf3n")))),r.a.createElement("div",{className:"uk-text-center"},r.a.createElement("span",null,"\xbfA\xfan no tienes una cuenta?\u2002"),r.a.createElement(J.b,{to:"/signup",className:"uk-link-text uk-text-primary"},r.a.createElement("span",{className:"lobster-family uk-text-large",onClick:function(){v.a.modal("#modal-login").hide()}},"Registrarme")))))},Pe=function(){return r.a.createElement("ul",{className:"uk-navbar-nav"},r.a.createElement("li",null,r.a.createElement(J.b,{to:"#modal-login","uk-toggle":"target: #modal-login"},r.a.createElement("span",{className:"lobster-family uk-text-large"},"Iniciar sesion"))),r.a.createElement("li",null,r.a.createElement(J.b,{to:"/signup"},r.a.createElement("span",{className:"lobster-family uk-text-large"},"Registro"))))},qe=function(e){var a=e.email,t=e.image,n=e.name,l=e.lastname,c=e.handleLogout;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"uk-button uk-button-default uk-border-pill",type:"button"},a),r.a.createElement("div",{"uk-dropdown":"mode: click; pos: bottom-right",id:"drop-menu"},r.a.createElement("ul",{className:"uk-nav uk-dropdown-nav uk-nav-default uk-nav-center"},r.a.createElement("li",null,r.a.createElement("div",{className:"uk-card uk-card-small"},r.a.createElement("div",{className:"uk-card-media-top"},r.a.createElement("img",{className:"uk-border-circle imageCard",src:t||_.a,alt:"profileImage"})),r.a.createElement("div",{className:"uk-card-body"},r.a.createElement("h3",{className:"uk-card-title"},"".concat(n," ").concat(l))))),r.a.createElement("li",null,r.a.createElement(J.b,{to:"/profile",onClick:function(){v.a.dropdown("#drop-menu").hide()}},"Mi perfil")),r.a.createElement("li",null,r.a.createElement(J.b,{to:"/dashboard/dishes",onClick:function(){v.a.dropdown("#drop-menu").hide()}},"Dashboard")),r.a.createElement("li",{className:"uk-nav-divider"}),r.a.createElement("li",{onClick:c},r.a.createElement("a",{className:"lobster-family"},"Cerrar sesion")))),r.a.createElement("span",{className:"uk-margin-small-left","uk-icon":"icon:menu; ratio: 2","uk-toggle":"target: #offcanvas-slide"}))},Ue=Object(d.e)(function(e){var a=e._id,t=e.email,n=e.name,l=e.image,c=e.lastname,s=e.handleLogout,o=e.setUser,i=e.history,u={email:t,name:n,image:l,lastname:c};return r.a.createElement("section",{className:"uk-section uk-section-primary uk-section-xsmall uk-padding-remove-vertical"},r.a.createElement("div",{className:"uk-container uk-container-expand"},r.a.createElement("nav",{className:"uk-navbar-container uk-navbar-transparent","uk-navbar":"true"},r.a.createElement("div",{className:"uk-navbar-left"},r.a.createElement("ul",{className:"uk-list uk-margin-remove"},r.a.createElement("li",null,r.a.createElement(J.b,{to:"/"},r.a.createElement("img",{className:"logo-filter",src:De.a,width:"200px",alt:"yo-ordeno-logo"}))))),r.a.createElement("div",{className:"uk-navbar-right"},a?r.a.createElement(qe,Object.assign({},u,{handleLogout:s})):r.a.createElement(Pe,null)),r.a.createElement(Ae,{setUser:o,history:i}))))}),Fe=function(){return r.a.createElement("section",{className:"uk-section uk-section-primary uk-section-xsmall uk-padding-remove-vertical"},r.a.createElement("div",{className:"uk-container uk-container-expand"},r.a.createElement("nav",{className:"uk-navbar-container uk-navbar-transparent","uk-navbar":"true"},r.a.createElement("div",{className:"uk-navbar-center"},r.a.createElement("img",{className:"logo-filter",src:De.a,width:"200px",alt:"yo-ordeno-logo"})))))},Me=function(){return r.a.createElement("footer",{className:"uk-section uk-section-xsmall uk-section-secondary"},r.a.createElement("div",{className:"uk-container uk-container-expand"},r.a.createElement("nav",{className:"uk-navbar-container uk-navbar-transparent","uk-navbar":"true"},r.a.createElement("div",{className:"uk-navbar-left"},r.a.createElement("ul",{className:"uk-navbar-nav"},r.a.createElement("li",null,"Desarrollado por Ironhacker Pedro Aviles"))),r.a.createElement("div",{className:"uk-navbar-right"},r.a.createElement("ul",{className:"uk-iconnav"},r.a.createElement("li",null,"S\xedgueme en:"),r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/lockeas16/","uk-icon":"icon: github"})),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.linkedin.com/in/pedroAvSh/","uk-icon":"icon: linkedin"})))))))},Le=function(){return r.a.createElement("div",{id:"offcanvas-slide","uk-offcanvas":"overlay: true; flip: true"},r.a.createElement("div",{className:"uk-offcanvas-bar uk-flex uk-flex-column"},r.a.createElement("span",{"uk-icon":"icon: arrow-right; ratio: 2",className:"uk-offcanvas-close uk-link-heading"}),r.a.createElement("ul",{className:"uk-nav uk-nav-primary uk-nav-center uk-margin-auto-vertical"},r.a.createElement("li",null,r.a.createElement(J.c,{to:"/dashboard/dishes",onClick:function(){v.a.offcanvas("#offcanvas-slide").hide()}},r.a.createElement("span",{className:"uk-margin-small-right uk-icon"},r.a.createElement(Q.a,null)),"Platillos")),r.a.createElement("li",{className:"uk-nav-divider"}),r.a.createElement("li",{className:"uk-parent"},r.a.createElement(J.c,{to:"/dashboard/newdish",onClick:function(){v.a.offcanvas("#offcanvas-slide").hide()}},r.a.createElement("span",{className:"uk-margin-small-right uk-icon"},r.a.createElement(Q.b,null)),"Alta platillo")),r.a.createElement("li",{className:"uk-nav-divider"}),r.a.createElement("li",{className:"uk-parent"},r.a.createElement(J.c,{to:"/dashboard/tables",onClick:function(){v.a.offcanvas("#offcanvas-slide").hide()}},r.a.createElement("span",{className:"uk-margin-small-right uk-icon"},r.a.createElement(Q.c,null)),"Mesas")))))},ze=function(e){function a(e){var t;Object(s.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).setUser=function(e){t.setState(function(a){return{user:e}})},t.handleLogout=function(){localStorage.removeItem("TOKEN"),localStorage.removeItem("USER");var e=t.state.user;e={},t.setState({user:e}),t.props.history.push("/")};var n=JSON.parse(localStorage.getItem("USER"));return n||(n={}),t.state={user:n},t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.state.user,a=!!this.props.location.pathname.includes("/restaurant/");return r.a.createElement("div",{className:"App"},a?r.a.createElement(Fe,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Le,null),r.a.createElement(Ue,Object.assign({},e,{handleLogout:this.handleLogout,setUser:this.setUser}))),r.a.createElement(Oe,{user:e,setUser:this.setUser,handleLogout:this.handleLogout}),r.a.createElement(Me,null))}}]),a}(n.Component),_e=Object(d.e)(ze);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Re=t(49),Ke=t.n(Re);t(89),t(90);v.a.use(Ke.a);c.a.render(r.a.createElement(function(){return r.a.createElement(J.a,null,r.a.createElement(_e,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[50,1,2]]]);
//# sourceMappingURL=main.ab7e2007.chunk.js.map